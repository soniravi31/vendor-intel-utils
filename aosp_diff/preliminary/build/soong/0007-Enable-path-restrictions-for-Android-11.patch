From b56e83186840f6d6a01dc1d6515e0c701cbc078f Mon Sep 17 00:00:00 2001
From: Tanuj Tekriwal <tanuj.tekriwal@intel.com>
Date: Mon, 15 Mar 2021 11:57:05 +0530
Subject: [PATCH] Enable path restrictions for Android On Intel

Tracked-On: OAM-95316
Signed-off-by: yaravapa <yasoda.aravapalli@intel.com>
Change-Id: Id956b4e700889dbc0699953e7d79ece5b7454d14
---
 ui/build/paths/config.go | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

diff --git a/ui/build/paths/config.go b/ui/build/paths/config.go
index 81c500d2b..6caf16a9b 100644
--- a/ui/build/paths/config.go
+++ b/ui/build/paths/config.go
@@ -94,7 +94,17 @@ var Configuration = map[string]PathConfig{
 	"tr":      Allowed,
 	"unzip":   Allowed,
 	"zip":     Allowed,
-
+        // These tool are required to build kernel and intel propreitary modules
+        "repo":    Allowed,
+        "mkdosfs": Allowed,
+        "mcopy":   Allowed,
+        "x86_64-linux-androidkernel-as": Allowed,
+        "x86_64-linux-androidkernel-ld": Allowed,
+        "file":    Allowed,
+        "sbsign":  Allowed,
+        "perl":    Allowed,
+        "cpio":    Allowed,
+        "depmod":  Allowed,
 	// Host toolchain is removed. In-tree toolchain should be used instead.
 	// GCC also can't find cc1 with this implementation.
 	"ar":         Forbidden,
--
2.17.1

